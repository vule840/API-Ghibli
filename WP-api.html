<!DOCTYPE html>
<html>

<head>
    <title>WP user API</title>
</head>

<body>
    <!-- <button id="b">export to CSV</button> -->
    <style>
   
    </style>
   
   <h2 id="name">Tu ide name</h2>
   <div id="app">
       
   </div>
    <script type="text/javascript">
 
         // Create a request variable and assign a new XMLHttpRequest object to it.
    var upit = new XMLHttpRequest();

    // Open a new connection, using the GET request on the URL endpoint
    
    upit.open('GET', 'http://logobox.agency/wp-json/wp/v2/posts', true);

    upit.onload = function() {
        // Begin accessing JSON data here
        // Begin accessing JSON data here
        //napravi konstante kojima onda pristupaÅ¡
        var data = JSON.parse(this.response);
        const app = document.getElementById('app')
        
        console.log(app)

        if (upit.status >= 200 && upit.status < 400) {
            console.log(data)
           //let name = document.getElementById('name');
           //name.textContent = data.results[0].name.first;

           let results = data;
           for(var i=0; i<data.length; i++) {
                console.log(data[i]);
            }
            results.forEach(function (result) {
                console.log(result.id);

                let id = document.createElement('p');
                id.textContent = result.id;
                app.appendChild(id);

                let h1 = document.createElement('h1');
                h1.textContent = result.title.rendered;
                app.appendChild(h1);

                let link = document.createElement('a');
                link.textContent = "link";
                link.href = result.link;
                console.log(link)
                app.appendChild(link);
            
            });
 

           /*for (var key in data) {
            if (data.hasOwnProperty(key)) {
              console.log(data[key].results);
              console.log(data[key].msg);
            }
            }*/
           
        } else {
            console.log('error')
        }

    }

    // Send request
    upit.send();

    </script>


    
</body>

</html>